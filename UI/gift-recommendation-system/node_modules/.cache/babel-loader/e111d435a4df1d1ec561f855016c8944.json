{"ast":null,"code":"var _jsxFileName = \"/home/ahmed/Git/Gift-recommendation-system/UI/gift-recommendation-system/src/packages/ImageForm.js\";\nimport React from 'react';\nimport Signin from './Signin';\nimport './ImageForm.css'; //const app = new Clarifai.App({apiKey: \"ca827dc9a1e74b1a9d0ef8b88dd7cc77\"});\n\nclass ImageForm extends React.Component {\n  constructor() {\n    super();\n\n    this.onInputChange = event => {\n      this.setState({\n        input: event.target.value\n      });\n    };\n\n    this.onDetecting = event => {\n      this.setState({\n        imageURL: this.state.input\n      }, () => {\n        this.Detect();\n        this.render();\n      });\n      this.Detect();\n    };\n\n    this.Detect = () => {\n      let box;\n      /*app.models.predict(Clarifai.FACE_DETECT_MODEL, this.state.input).then(\n          function(response) {\n              box = response.outputs[0].data.regions[0].region_info.bounding_box;\n          },\n          function(err) {\n              console.log(err);\n          }\n          ).then(() => {\n              this.boundingBox(box);\n          }).catch((err) => {\n              console.log(\"Exception: \", err);\n          });\n          */\n    };\n\n    this.boundingBox = box => {\n      var image = document.getElementById('image');\n      var width = Number(image.width);\n      var height = Number(image.height);\n      box.left_col = width * box.left_col;\n      box.top_row = height * box.top_row;\n      box.right_col = width - width * box.right_col;\n      box.bottom_row = height - height * box.bottom_row;\n      this.setState({\n        signedin: true\n      }, () => {\n        this.box = box;\n        this.render();\n      });\n      console.log(\"asd,\", image);\n    };\n\n    this.onSigningOut = event => {\n      this.setState({\n        signedin: false\n      }, () => {\n        this.render();\n      });\n    };\n\n    this.box = {};\n    this.state = {\n      signedin: true,\n      input: \"\",\n      imageURL: \"\"\n    };\n  }\n\n  render() {\n    if (!this.state.signedin) {\n      return React.createElement(Signin, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pl15 mostRight underline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/\",\n      onClick: this.onSigningOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Sign Out\")), React.createElement(\"div\", {\n      className: \"absCenter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mb5 pb2 georgia white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Hi, \", this.props.user.email)), React.createElement(\"div\", {\n      className: \"img relative\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"image\",\n      widthprops: \"500px\",\n      height: \"auto\",\n      alt: \"\",\n      src: this.state.imageURL,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"bounding-box\",\n      style: {\n        top: this.box.top_row,\n        bottom: this.box.bottom_row,\n        right: this.box.right_col,\n        left: this.box.left_col\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"inputBackground br3 tc pa2 center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter The Image URL\",\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"myButton ml1\",\n      type: \"button\",\n      value: \"Detect\",\n      onClick: this.onDetecting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Detect\"))));\n  }\n\n}\n\nexport default ImageForm;","map":{"version":3,"sources":["/home/ahmed/Git/Gift-recommendation-system/UI/gift-recommendation-system/src/packages/ImageForm.js"],"names":["React","Signin","ImageForm","Component","constructor","onInputChange","event","setState","input","target","value","onDetecting","imageURL","state","Detect","render","box","boundingBox","image","document","getElementById","width","Number","height","left_col","top_row","right_col","bottom_row","signedin","console","log","onSigningOut","props","user","email","top","bottom","right","left"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Signin from './Signin';\n\nimport './ImageForm.css'\n\n//const app = new Clarifai.App({apiKey: \"ca827dc9a1e74b1a9d0ef8b88dd7cc77\"});\n\nclass ImageForm extends React.Component\n{\n    constructor()\n    {\n        super();\n        this.box = {};\n        this.state = {\n            signedin: true,\n            input: \"\",\n            imageURL: \"\"\n        }\n    }\n\n    onInputChange = (event) => {\n        this.setState({input: event.target.value});  \n    }\n      \n    onDetecting = (event) => {\n        this.setState({imageURL: this.state.input}, () => {\n            this.Detect(); \n            this.render();\n        });\n\n        this.Detect();\n    }\n\n    Detect = () => {\n        let box;\n        /*app.models.predict(Clarifai.FACE_DETECT_MODEL, this.state.input).then(\n            function(response) {\n                box = response.outputs[0].data.regions[0].region_info.bounding_box;\n            },\n            function(err) {\n                console.log(err);\n            }\n            ).then(() => {\n                this.boundingBox(box);\n            }).catch((err) => {\n                console.log(\"Exception: \", err);\n            });\n            */\n    }\n\n    boundingBox = (box) => {\n        var image = document.getElementById('image');\n        var width = Number(image.width);\n        var height = Number(image.height);\n        box.left_col = width * box.left_col;\n        box.top_row = height * box.top_row;\n        box.right_col = width - (width * box.right_col);\n        box.bottom_row = height - (height * box.bottom_row);\n        \n        this.setState({signedin: true}, () => {\n            this.box = box;\n            this.render()\n        });\n        console.log(\"asd,\", image);\n     }\n\n    onSigningOut = (event) => {\n        this.setState({signedin: false}, () => {\n            this.render();\n        });\n    }\n\n    render()\n    {\n        if(!this.state.signedin)\n        {\n            return(\n                <Signin/>\n            )\n        }\n\n        return(\n            <div>\n                <div className=\"pl15 mostRight underline\">\n                    <a href=\"/\" onClick={this.onSigningOut}>Sign Out</a>\n                </div>\n\n                <div className=\"absCenter\">\n                    <div className=\"mb5 pb2 georgia white\">\n                        <h3>Hi, {this.props.user.email}</h3>\n                    </div>\n                    \n                    <div className=\"img relative\">\n                        <img \n                            id=\"image\"\n                            widthprops='500px'\n                            height='auto' \n                            alt=\"\" \n                            src={this.state.imageURL}\n                        />\n                        <div\n                            className=\"bounding-box\"\n                            style={{top: this.box.top_row, bottom: this.box.bottom_row, right: this.box.right_col, left: this.box.left_col}} >\n                        </div>  \n                    </div>\n                    \n                    <div className=\"inputBackground br3 tc pa2 center\">\n                        <input\n                            type=\"text\" \n                            placeholder=\"Enter The Image URL\" \n                            onChange={this.onInputChange}\n                        />\n            \n                        <button\n                            className=\"myButton ml1\"\n                            type=\"button\" \n                            value=\"Detect\" \n                            onClick={this.onDetecting}\n                        >\n                            Detect\n                        </button>    \n                    </div>\n\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ImageForm;"]},"metadata":{},"sourceType":"module"}